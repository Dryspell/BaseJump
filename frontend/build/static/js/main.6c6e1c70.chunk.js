(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e){e.exports={v:"5.5.2",fr:60,ip:0,op:104,w:84,h:40,nm:"Typing-Indicator",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Oval 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.643],y:[1]},o:{x:[1],y:[0]},t:18,s:[35],e:[100]},{i:{x:[.099],y:[1]},o:{x:[.129],y:[0]},t:33,s:[100],e:[35]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:65,s:[35],e:[35]},{t:71}],ix:11,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"},r:{a:0,k:0,ix:10},p:{a:0,k:[61,20,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:18,s:[100,100,100],e:[140,140,100]},{i:{x:[.032,.032,.667],y:[1,1,1]},o:{x:[.217,.217,.333],y:[0,0,0]},t:33,s:[140,140,100],e:[100,100,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:65,s:[100,100,100],e:[100,100,100]},{t:71}],ix:6,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[12,12],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[.847000002861,.847000002861,.847000002861,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Oval 3",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3600,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Oval 2",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:9,s:[35],e:[98]},{i:{x:[.023],y:[1]},o:{x:[.179],y:[0]},t:24,s:[98],e:[35]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:56,s:[35],e:[35]},{t:62}],ix:11,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"},r:{a:0,k:0,ix:10},p:{a:0,k:[41,20,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.654,.654,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:9,s:[100,100,100],e:[140,140,100]},{i:{x:[.11,.11,.667],y:[1,1,1]},o:{x:[.205,.205,.333],y:[0,0,0]},t:24,s:[140,140,100],e:[100,100,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:56,s:[100,100,100],e:[100,100,100]},{t:62}],ix:6,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[12,12],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[.847000002861,.847000002861,.847000002861,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Oval 2",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3600,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Oval 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:0,s:[35],e:[100]},{i:{x:[.067],y:[1]},o:{x:[.125],y:[0]},t:15,s:[100],e:[35]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:47,s:[35],e:[35]},{t:53}],ix:11,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"},r:{a:0,k:0,ix:10},p:{a:0,k:[21,20,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.673,.673,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:0,s:[100,100,100],e:[140,140,100]},{i:{x:[.049,.049,.667],y:[1,1,1]},o:{x:[.198,.198,.333],y:[0,0,0]},t:15,s:[140,140,100],e:[100,100,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:47,s:[100,100,100],e:[100,100,100]},{t:53}],ix:6,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[12,12],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[.847000002861,.847000002861,.847000002861,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Oval 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3600,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"BG",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[42,20,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-42,-20],[42,-20],[42,20],[-42,20]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"rd",nm:"Round Corners 1",r:{a:0,k:20,ix:1},ix:2,mn:"ADBE Vector Filter - RC",hd:!1},{ty:"fl",c:{a:0,k:[.96078401804,.96078401804,.96078401804,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"BG",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3600,st:0,bm:0}],markers:[]}},185:function(e,t,r){e.exports=r(288)},192:function(e,t,r){},193:function(e,t,r){},219:function(e,t,r){},281:function(e,t,r){},282:function(e,t,r){},283:function(e,t,r){},284:function(e,t,r){},285:function(e,t,r){},286:function(e,t,r){},287:function(e,t,r){},288:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(155),i=r.n(o),c=(r(192),r(193),r(8)),l=r(46),s=r(138),u=r(17),h=r(6),f=r(72),p=r(25),d=r(35),m=r(80),y=r(19),v=r.n(y);function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var u={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==t&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function x(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t(function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(h).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},x(b.prototype),c(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},x(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var x=function(){var e=Object(n.useState)(),t=Object(h.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(),s=Object(h.a)(i,2),y=s[0],x=s[1],b=Object(n.useState)(!1),E=Object(h.a)(b,2),w=E[0],O=E[1],k=Object(n.useState)(!1),j=Object(h.a)(k,2),L=j[0],_=j[1],S=Object(f.b)(),C=Object(c.f)(),N=function(){var e=Object(u.a)(g().mark(function e(){var t,n,a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),r&&y){e.next=6;break}return _(!1),S({title:"Please Fill all the Fields",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),_(!1),e.abrupt("return");case 6:return e.prev=6,t={headers:{"Content-type":"application/json"}},e.next=10,v.a.post("/api/user/login",{email:r,password:y},t);case 10:n=e.sent,a=n.data,S({title:"Login Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(a)),_(!1),C("/chats"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),_(!1),S({title:"Invalid Credentials",status:"error",description:e.t0.response.data.message,duration:5e3,isClosable:!0,position:"bottom"});case 22:case"end":return e.stop()}},e,null,[[6,18]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(l.f,{spacing:"5px"},a.a.createElement(p.a,null,a.a.createElement(p.b,null,"email"),a.a.createElement(d.a,{placeholder:"Enter your email",value:r||"",onChange:function(e){return o(e.target.value)}})),a.a.createElement(p.a,{id:"password",isRequired:!0},a.a.createElement(p.b,null,"Password"),a.a.createElement(d.b,null,a.a.createElement(d.a,{type:w?"text":"password",placeholder:"Enter your password",onChange:function(e){return x(e.target.value)},value:y||""}),a.a.createElement(d.c,{width:"4.5rem"},a.a.createElement(m.a,{h:"1.75rem",size:"sm",onClick:function(){O(!w)}},w?"Hide":"Show")))),a.a.createElement(m.a,{colorScheme:"blue",width:"100%",color:"white",onClick:N,style:{marginTop:15},isLoading:L},"Login"),a.a.createElement(m.a,{colorScheme:"red",width:"100%",color:"white",onClick:function(){o("Guest"),x("12guest34"),N()},style:{marginTop:15}},"Chat as a Guest"))};function b(){b=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var u={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==t&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var n;this._invoke=function(a,o){function i(){return new t(function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(h).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new x(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var E=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),r=t[0],o=t[1],i=function(){return o(!r)},s=Object(f.b)(),y=Object(c.f)(),g=Object(n.useState)(),x=Object(h.a)(g,2),E=x[0],w=x[1],O=Object(n.useState)(),k=Object(h.a)(O,2),j=k[0],L=k[1],_=Object(n.useState)(),S=Object(h.a)(_,2),C=S[0],N=S[1],G=Object(n.useState)(),F=Object(h.a)(G,2),A=F[0],P=F[1],I=Object(n.useState)(),D=Object(h.a)(I,2),T=D[0],H=D[1],z=Object(n.useState)(!1),q=Object(h.a)(z,2),B=q[0],R=q[1],U=function(){var e=Object(u.a)(b().mark(function e(){var t,r,n;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),E&&j&&A&&C){e.next=5;break}return s({title:"Please Fill all the Feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),R(!1),e.abrupt("return");case 5:if(A===C){e.next=8;break}return s({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 8:return console.log(E,j,A,T),e.prev=9,t={headers:{"Content-type":"application/json"}},e.next=13,v.a.post("/api/user",{name:E,email:j,password:A,pic:T},t);case 13:r=e.sent,n=r.data,console.log(n),s({title:"Registration Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(n)),R(!1),y("/chats"),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(9),s({title:"Error Occured!",description:e.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),R(!1);case 26:case"end":return e.stop()}},e,null,[[9,22]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(l.f,{spacing:"5px"},a.a.createElement(p.a,{id:"first-name",isRequired:!0},a.a.createElement(p.b,null,"Name"),a.a.createElement(d.a,{placeholder:"Enter Your Name",onChange:function(e){return w(e.target.value)}})),a.a.createElement(p.a,{id:"email",isRequired:!0},a.a.createElement(p.b,null,"Email Address"),a.a.createElement(d.a,{type:"email",placeholder:"Enter Your Email Address",onChange:function(e){return L(e.target.value)}})),a.a.createElement(p.a,{id:"password",isRequired:!0},a.a.createElement(p.b,null,"Password"),a.a.createElement(d.b,{size:"md"},a.a.createElement(d.a,{type:r?"text":"password",placeholder:"Enter Password",onChange:function(e){return P(e.target.value)}}),a.a.createElement(d.c,{width:"4.5rem"},a.a.createElement(m.a,{h:"1.75rem",size:"sm",onClick:i},r?"Hide":"Show")))),a.a.createElement(p.a,{id:"password",isRequired:!0},a.a.createElement(p.b,null,"Confirm Password"),a.a.createElement(d.b,{size:"md"},a.a.createElement(d.a,{type:r?"text":"password",placeholder:"Confirm password",onChange:function(e){return N(e.target.value)}}),a.a.createElement(d.c,{width:"4.5rem"},a.a.createElement(m.a,{h:"1.75rem",size:"sm",onClick:i},r?"Hide":"Show")))),a.a.createElement(p.a,{id:"pic"},a.a.createElement(p.b,null,"Upload your Picture"),a.a.createElement(d.a,{type:"file",p:1.5,accept:"image/*",onChange:function(e){return function(e){if(R(!0),void 0!==e){if(console.log(e),"image/jpeg"!==e.type&&"image/png"!==e.type)return s({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void R(!1);var t=new FormData;t.append("file",e),t.append("upload_preset","MERN_CHAT"),t.append("cloud_name","dic2ofaqk"),fetch("https://api.cloudinary.com/v1_1/dic2ofaqk/image/upload",{method:"post",body:t}).then(function(e){return e.json()}).then(function(e){H(e.url.toString()),console.log(e.url.toString()),R(!1)}).catch(function(e){console.log(e),R(!1)})}else s({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"})}(e.target.files[0])}})),a.a.createElement(m.a,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:U,isLoading:B},"Sign Up"))},w=function(){var e=Object(c.f)();return Object(n.useEffect)(function(){JSON.parse(localStorage.getItem("userInfo"))&&e("/chats")},[e]),a.a.createElement(l.c,{maxW:"xl",centerContent:!0},a.a.createElement(l.b,{display:"flex",justifyContent:"center",p:3,bg:"white",w:"100%",m:"40px 0 15px 0",borderRadius:"lg",borderWidth:"1px"},a.a.createElement(l.e,{fontSize:"4xl",fontFamily:"work sans",color:"black"},"Welcome to the chat app!")),a.a.createElement(l.b,{p:4,bg:"white",w:"100%",borderRadius:"lg",borderWidth:"1px"},a.a.createElement(s.e,{variant:"soft-rounded",colorScheme:"blue"},a.a.createElement(s.b,null,a.a.createElement(s.a,{width:"50%"},"Login"),a.a.createElement(s.a,{width:"50%"},"Register")),a.a.createElement(s.d,null,a.a.createElement(s.c,null,a.a.createElement(x,null)),a.a.createElement(s.c,null,a.a.createElement(E,null))))))},O=r(0),k=O.createContext,j=O.useContext,L=O.useState,_=O.useEffect,S=k(),C=function(){return j(S)},N=function(e){var t=e.children,r=L(),n=Object(h.a)(r,2),o=n[0],i=n[1],l=L(),s=Object(h.a)(l,2),u=s[0],f=s[1],p=L([]),d=Object(h.a)(p,2),m=d[0],y=d[1],v=L([]),g=Object(h.a)(v,2),x=g[0],b=g[1],E=Object(c.f)();return _(function(){var e=JSON.parse(localStorage.getItem("userInfo"));i(e),e||E("/")},[E]),a.a.createElement(S.Provider,{value:{userInfo:o,setUserInfo:i,selectedChat:u,setSelectedChat:f,chats:m,setChats:y,notification:x,setNotification:b}},t)},G=r(40),F=r(28),A=r(73),P=function(e,t){return e?t[0]._id===e._id?t[1].name:t[0].name:(console.log("GODHASFORSAKENYOU"),"GODHASFORSAKENYOU")},I=function(e,t,r){return r>0&&e[r-1].sender._id===t.sender._id},D=function(e,t,r,n){return r<e.length-1&&e[r+1].sender._id===t.sender._id&&e[r].sender._id!==n?33:r<e.length-1&&e[r+1].sender._id!==t.sender._id&&e[r].sender._id!==n||r===e.length-1&&e[r].sender._id!==n?0:"auto"},T=r(11),H=r(153),z=r(97),q=function(e){var t=e.user,r=e.children,n=Object(T.c)(),o=n.isOpen,i=n.onOpen,c=n.onClose;return a.a.createElement(a.a.Fragment,null,r?a.a.createElement("span",{onClick:i},r):a.a.createElement(m.b,{display:{base:"flex"},icon:a.a.createElement(F.g,null),onClick:i}),a.a.createElement(H.f,{size:"lg",onClose:c,isOpen:o,isCentered:!0},a.a.createElement(H.l,null),a.a.createElement(H.i,{h:"410px"},a.a.createElement(H.k,{fontSize:"40px",fontFamily:"Work sans",display:"flex",justifyContent:"center"},t.name),a.a.createElement(H.h,null),a.a.createElement(H.g,{display:"flex",flexDir:"column",alignItems:"center",justifyContent:"space-between"},a.a.createElement(z.a,{borderRadius:"full",boxSize:"150px",src:t.pic,alt:t.name}),a.a.createElement(l.e,{fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans"},"Email: ",t.email)),a.a.createElement(H.j,null,a.a.createElement(m.a,{onClick:c},"Close")))))},B=function(e){var t=e.user,r=e.handleFunction,n=e.admin;return a.a.createElement(l.a,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",onClick:r,overflow:"hidden"},t.name,n===t._id&&a.a.createElement("span",null," (Admin)"),a.a.createElement(F.e,{pl:1}))},R=r(139),U=function(e){var t=e.user,r=e.handleFunction;return a.a.createElement(l.b,{onClick:r,cursor:"pointer",bg:"#E8E8E8",_hover:{background:"#38B2AC",color:"white"},w:"100%",display:"flex",alignItems:"center",color:"black",px:3,py:2,mb:2,borderRadius:"lg"},a.a.createElement(R.a,{mr:2,size:"sm",cursor:"pointer",name:t.name,src:t.pic}),a.a.createElement(l.b,{overflow:"hidden"},a.a.createElement(l.e,null,t.name),a.a.createElement(l.e,{fontSize:"xs"},a.a.createElement("b",null,"Email: "),t.email)))};function Y(){Y=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=l;var u={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var n;this._invoke=function(a,o){function i(){return new t(function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(h).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new x(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var M=function(e){var t=e.fetchMessages,r=e.fetchAgain,o=e.setFetchAgain,i=Object(T.c)(),c=i.isOpen,s=i.onOpen,y=i.onClose,g=Object(n.useState)(),x=Object(h.a)(g,2),b=x[0],E=x[1],w=Object(n.useState)([]),O=Object(h.a)(w,2),k=O[0],j=O[1],L=Object(n.useState)(""),_=Object(h.a)(L,2),S=_[0],N=_[1],P=Object(n.useState)([]),I=Object(h.a)(P,2),D=I[0],z=I[1],q=Object(n.useState)(!1),R=Object(h.a)(q,2),M=R[0],W=R[1],V=Object(n.useState)(!1),$=Object(h.a)(V,2),J=$[0],K=$[1],Q=Object(f.b)(),X=C(),Z=X.selectedChat,ee=X.setSelectedChat,te=X.userInfo,re=function(){var e=Object(u.a)(Y().mark(function e(n){var a,i,c;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(te),Z.groupAdmin._id===te.data.user._id||n._id===te.data.user._id){e.next=4;break}return Q({title:"Error Ocurred!",description:"You are not allowed to remove users",status:"error",duration:5e3}),e.abrupt("return");case 4:return e.prev=4,W(!0),a={headers:{Authorization:"Bearer ".concat(te.token)}},e.next=9,v.a.patch("/api/chat/groupremove",{chatId:Z._id,userId:n._id},a);case 9:i=e.sent,c=i.data,n._id===te.data.user._id?ee():ee(c),W(!1),o(!r),t(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),Q({title:"Error Ocurred!",description:"Failed to remove user",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 20:case"end":return e.stop()}},e,null,[[4,17]])}));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(Y().mark(function e(t){var n,a,i;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z.users.find(function(e){return e._id===t._id})){e.next=3;break}return Q({title:"User Already in Group!",description:"User Already Added to this Group Chat",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 3:return Z.groupAdmin._id===te.data.user._id&&j([].concat(Object(G.a)(k),[t])),e.prev=4,W(!0),n={headers:{Authorization:"Bearer ".concat(te.token)}},e.next=9,v.a.patch("/api/chat/groupadd",{chatId:Z._id,userId:t._id},n);case 9:a=e.sent,i=a.data,ee(i),o(!r),W(!1),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0),Q({title:"Error Ocurred!",description:"Failed to Add User to Group",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),W(!1);case 21:case"end":return e.stop()}},e,null,[[4,16]])}));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(u.a)(Y().mark(function e(t){var n,a,i;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,K(!0),n={headers:{Authorization:"Bearer ".concat(te.token)}},e.next=7,v.a.patch("/api/chat/rename",{chatId:Z._id,chatName:b},n);case 7:a=e.sent,i=a.data,K(!1),ee(i),o(!r),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),Q({title:"Error Ocurred!",description:"Failed to Rename Group Chat",status:"error",duration:5e3}),K(!1);case 18:E("");case 19:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(u.a)(Y().mark(function e(t){var r,n,a;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(N(t),t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,W(!0),r={headers:{Authorization:"Bearer ".concat(te.token)}},e.next=8,v.a.get("/api/user?search=".concat(S),r);case 8:n=e.sent,a=n.data,W(!1),z(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),Q({title:"Error Ocurred!",description:"Failed to Load Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return e.stop()}},e,null,[[3,14]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.b,{display:{base:"flex"},icon:a.a.createElement(F.g,null),onClick:s}),a.a.createElement(H.f,{isOpen:c,onClose:y},a.a.createElement(H.l,null),a.a.createElement(H.i,null,a.a.createElement(H.k,{fontSize:"35px",fontFamily:"Work sans",display:"flex",justifyContent:"center"},Z.chatName),a.a.createElement(H.h,null),a.a.createElement(H.g,null,a.a.createElement(l.b,{display:"flex",w:"100%",flexWrap:"wrap",pb:3},Z.users.map(function(e){return a.a.createElement(B,{key:e._id,user:e,handleFunction:function(){return re(e)}})})),a.a.createElement(p.a,{display:"flex"},a.a.createElement(d.a,{placeholder:"Chat Name",mb:3,onChange:function(e){return E(e.target.value)}}),a.a.createElement(m.a,{variant:"solid",colorScheme:"teal",isLoading:J,onClick:ae,ml:1},"Update")),a.a.createElement(p.a,null,a.a.createElement(d.a,{placeholder:"Add Users eg. Peter, Paul, Mary",mb:1,onChange:function(e){return oe(e.target.value)}})),M?a.a.createElement(A.a,{size:"lg"}):D?D.map(function(e){return a.a.createElement(U,{key:e._id,user:e,handleFunction:function(){return ne(e)}})}):null),a.a.createElement(H.j,null,a.a.createElement(m.a,{onClick:function(){return re(te.data.user)},colorScheme:"red"},"Leave Group")))))},W=(r(219),r(140)),V=r(157),$=function(e){var t=e.messages,r=C().userInfo;return a.a.createElement(V.a,null,t&&t.map(function(e,n){return a.a.createElement("div",{key:e._id,style:{display:"flex"}},(function(e,t,r,n){return r<e.length-1&&(e[r+1].sender._id!==t.sender._id||void 0===e[r+1].sender._id)&&e[r].sender._id!==n}(t,e,n,r.data.user._id)||function(e,t,r){return t===e.length-1&&e[e.length-1].sender._id!==r&&e[e.length-1].sender._id}(t,n,r.data.user._id))&&a.a.createElement(W.a,{label:e.sender.name,placement:"bottom-start",hasArrow:!0},a.a.createElement(R.a,{mt:"7px",mr:1,size:"sm",cursor:"pointer",name:e.sender.name,src:e.sender.pic})),a.a.createElement("span",{style:{backgroundColor:"".concat(e.sender._id===r.data.user._id?"#BEE3F8":"#B9F5D0"),borderRadius:"20px",padding:"5px 15px",maxWidth:"75%",marginLeft:D(t,e,n,r.data.user._id),marginTop:I(t,e,n,r.data.user._id)?3:10}},e.message))}))},J=r(161),K=r(159),Q=r.n(K),X=r(160);function Z(){Z=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=l;var u={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var n;this._invoke=function(a,o){function i(){return new t(function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(h).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new x(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var ee,te,re=function(e){var t=e.fetchAgain,r=e.setFetchAgain,o=C(),i=o.userInfo,c=o.selectedChat,s=o.setSelectedChat,y=o.notification,g=o.setNotification,x=i?i.data.user:null,b=Object(n.useState)([]),E=Object(h.a)(b,2),w=E[0],O=E[1],k=Object(n.useState)(!1),j=Object(h.a)(k,2),L=j[0],_=j[1],S=Object(n.useState)(),N=Object(h.a)(S,2),I=N[0],D=N[1],T=Object(n.useState)(!1),H=Object(h.a)(T,2),z=H[0],B=H[1],R=Object(n.useState)(!1),U=Object(h.a)(R,2),Y=U[0],W=U[1],V=Object(n.useState)(!1),K=Object(h.a)(V,2),re=K[0],ne=K[1],ae=Object(f.b)(),oe={loop:!0,autoplay:!0,animationData:X,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};Object(n.useEffect)(function(){(ee=Object(J.a)("https://hay-boi.herokuapp.com/")).emit("setup",i.data.user),ee.on("connected",function(){B(!0)}),ce(!0),ee.on("typing",function(){return ne(!0)}),ee.on("stop typing",function(){return ne(!1)})},[]),Object(n.useEffect)(function(){te&&te!==c?ee.emit("join chat",c._id):te=c,ce(!1)},[c]),Object(n.useEffect)(function(){ee.on("message received",function(e){te&&te._id===e.chat._id?(console.log("".concat(e.createdAt,": ").concat(e.sender.name," has sent message: ").concat(e.message)),O([].concat(Object(G.a)(w),[e]))):y.includes(e)||(g([e].concat(Object(G.a)(y))),r(!t),console.log("New Message Received in other chat from User: ".concat(e.sender._id)))})},[]);var ie=function(){var e=Object(u.a)(Z().mark(function e(n){var a,o,l;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==n.key||!I){e.next=24;break}return W(!1),ee.emit("stop typing",c._id),e.prev=3,_(!0),a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},e.next=8,v.a.post("/api/message",{chatId:c._id,message:I},a);case 8:o=e.sent,l=o.data,console.log("Message Sent: ".concat(l.message)),ee.emit("new message",l),O([].concat(Object(G.a)(w),[l])),D(""),r(!t),ce(!1),_(!1),ee.emit("join chat",c._id),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),ae({title:"Error Ocurred!",description:"Failed to send Message",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 23:_(!1);case 24:case"end":return e.stop()}},e,null,[[3,20]])}));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(u.a)(Z().mark(function e(){var t,r,n,a,o=arguments;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],c){e.next=3;break}return e.abrupt("return");case 3:return console.log("Fetching Messages"),e.prev=4,t||_(!0),r={headers:{Authorization:"Bearer ".concat(i.token)}},e.next=9,v.a.get("/api/message/".concat(c._id),r);case 9:n=e.sent,a=n.data,console.log(a),O(a),_(!1),ee.emit("join chat",c._id),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),ae({title:"Error Occured!",description:"Failed to Load Messages",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 20:case"end":return e.stop()}},e,null,[[4,17]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(Object(u.a)(Z().mark(function e(){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ce(!0);case 1:case"end":return e.stop()}},e)})),[t]);var le,se,ue=function(){var e=Object(u.a)(Z().mark(function e(t){var r;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(D(t.target.value),z){e.next=3;break}return e.abrupt("return");case 3:Y||(W(!0),ee.emit("typing",c._id)),r=(new Date).getTime(),setTimeout(function(){(new Date).getTime()-r>=3e3&&(W(!1),ee.emit("stop typing",c._id))},3e3);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,c?a.a.createElement(a.a.Fragment,null,a.a.createElement(l.e,{fontSize:{base:"28px",md:"30px"},pb:3,px:2,fontFamily:"Work sans",display:"flex",w:"100%",justifyContent:{base:"space-between"},alignItems:"center"},a.a.createElement(m.b,{display:{base:"flex",md:"none"},icon:a.a.createElement(F.b,null),onClick:function(){return s("")}}),w&&(c.isGroupChat?a.a.createElement(a.a.Fragment,null,c.chatName.toUpperCase(),a.a.createElement(M,{fetchMessages:ce,fetchAgain:t,setFetchAgain:r})):a.a.createElement(a.a.Fragment,null,P(x,c.users),a.a.createElement(q,{user:(le=x,se=c.users,le?se[0]._id===le._id?se[1]:se[0]:"THEDEVILHASFORSAKENYOU")})))),a.a.createElement(l.b,{display:"flex",flexDir:"column",justifyContent:"flex-end",p:3,w:"100%",h:"100%",bg:"#E8E8E8",borderRadius:"lg",overflowY:"hidden"},L?a.a.createElement(A.a,{size:"xl",w:20,h:20,alignSelf:"center",margin:"auto"}):a.a.createElement("div",{className:"messages"},a.a.createElement($,{messages:w})),a.a.createElement(p.a,{onKeyDown:function(e){return"Enter"===e.key?ie(e):null},isRequired:!0,mt:3},re?a.a.createElement("div",null,a.a.createElement(Q.a,{options:oe,style:{marginBottom:15,marginLeft:0},width:70})):a.a.createElement(a.a.Fragment,null),a.a.createElement(d.a,{placeholder:"Type a message...",onChange:function(e){return ue(e)},variant:"filled",bg:"#E0E0E0"})))):a.a.createElement(l.b,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%"},a.a.createElement(l.e,{fontSize:"3xl",pb:3,fontFamily:"Work sans"},"Click on a User to Start a Chat")))},ne=function(e){var t=e.fetchAgain,r=e.setFetchAgain,n=C().selectedChat;return a.a.createElement(l.b,{display:{base:n?"flex":"none",md:"flex"},alignItems:"center",flexDir:"column",bg:"white",p:3,w:{base:"100%",md:"68%"},borderRadius:"lg",borderWidth:"1px"},a.a.createElement(re,{fetchAgain:t,setFetchAgain:r}))},ae=r(26),oe=function(){return a.a.createElement(l.d,null,a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}),a.a.createElement(ae.a,{height:"45px"}))};function ie(){ie=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=l;var u={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var n;this._invoke=function(a,o){function i(){return new t(function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(h).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new x(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var ce=function(e){var t=e.children,r=Object(T.c)(),o=r.isOpen,i=r.onOpen,c=r.onClose,s=Object(n.useState)(),y=Object(h.a)(s,2),g=y[0],x=y[1],b=Object(n.useState)([]),E=Object(h.a)(b,2),w=E[0],O=E[1],k=Object(n.useState)(""),j=Object(h.a)(k,2),L=j[0],_=j[1],S=Object(n.useState)([]),N=Object(h.a)(S,2),F=N[0],P=N[1],I=Object(n.useState)(!1),D=Object(h.a)(I,2),z=D[0],q=D[1],R=Object(f.b)(),Y=C(),M=Y.userInfo,W=Y.chats,V=Y.setChats,$=function(){var e=Object(u.a)(ie().mark(function e(t){var r,n,a;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_(t),t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,q(!0),r={headers:{Authorization:"Bearer ".concat(M.token)}},e.next=8,v.a.get("/api/user?search=".concat(L),r);case 8:n=e.sent,a=n.data,q(!1),P(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),R({title:"Error Ocurred!",description:"Failed to Load Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return e.stop()}},e,null,[[3,14]])}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(ie().mark(function e(){var t,r,n;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&w){e.next=3;break}return R({title:"Please enter a group name and select users",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 3:return e.prev=3,t={headers:{Authorization:"Bearer ".concat(M.token)}},e.next=7,v.a.post("/api/chat/group",{chatName:g,users:JSON.stringify(w.map(function(e){return e._id}))},t);case 7:r=e.sent,n=r.data,V([n].concat(Object(G.a)(W))),c(),R({title:"New Group Chat Created Successfully",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),R({title:"Error Occured!",description:"Failed to Create Group Chat",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return e.stop()}},e,null,[[3,14]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{onClick:i},t),a.a.createElement(H.f,{isOpen:o,onClose:c},a.a.createElement(H.l,null),a.a.createElement(H.i,null,a.a.createElement(H.k,{fontSize:"35px",fontFamily:"Work sans",display:"flex",justifyContent:"center"},"Create Group Chat"),a.a.createElement(H.h,null),a.a.createElement(H.g,{display:"flex",flexDir:"column",alignItems:"center"},a.a.createElement(p.a,null,a.a.createElement(d.a,{placeholder:"Chat Name",mb:3,onChange:function(e){return x(e.target.value)}})),a.a.createElement(p.a,null,a.a.createElement(d.a,{placeholder:"Add Users eg. Peter, Paul, Mary",mb:1,onChange:function(e){return $(e.target.value)}})),a.a.createElement(l.b,{w:"100%",display:"flex",flexWrap:"wrap"},w.map(function(e){return a.a.createElement(B,{key:e._id,user:e,handleFunction:function(){return t=e,void O(w.filter(function(e){return e._id!==t._id}));var t}})})),z?a.a.createElement("div",null,"loading",a.a.createElement(A.a,{pl:3,ml:"auto",display:"flex"})):F?F.slice(0,4).map(function(e){return a.a.createElement(U,{key:e._id,user:e,handleFunction:function(){var t;t=e,w.includes(t)?R({title:"User Already Added",description:"User Already Added",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}):O([].concat(Object(G.a)(w),[t]))}})}):null),a.a.createElement(H.j,null,a.a.createElement(m.a,{colorScheme:"blue",onClick:J},"Create Chat")))))};function le(){le=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=l;var u={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var n;this._invoke=function(a,o){function i(){return new t(function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(h).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new x(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var se=function(e){var t=e.fetchAgain,r=C(),o=r.selectedChat,i=r.setSelectedChat,c=r.userInfo,s=r.chats,p=r.setChats,d=Object(n.useState)(),y=Object(h.a)(d,2),g=y[0],x=y[1],b=Object(f.b)(),E=function(){var e=Object(u.a)(le().mark(function e(){var t,r,n;return le().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=4,v.a.get("/api/chat",t);case 4:r=e.sent,n=r.data,p(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),b({title:"Error Occurred!",status:"error",description:"Failed to Load Chats",duration:5e3,isClosable:!0,position:"bottom"});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){x(JSON.parse(localStorage.getItem("userInfo")).data.user),E()},[t,o]),a.a.createElement(l.b,{display:{base:o?"none":"flex",md:"flex"},flexDir:"column",alignItems:"center",p:3,bg:"white",w:{base:"100%",md:"31%"},borderRadius:"lg",borderWidth:"1px"},a.a.createElement(l.b,{pb:3,px:3,fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans",display:"flex",justifyContent:"space-between",alignItems:"center",w:"100%"},"My Chats",a.a.createElement(ce,null,a.a.createElement(m.a,{display:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},rightIcon:a.a.createElement(F.a,null)},"Create New Chat"))),a.a.createElement(l.b,{display:"flex",flexDirection:"column",p:3,bg:"#F8F8F8",w:"100%",h:"93%",borderRadius:"lg",overflowY:"hidden"},s?a.a.createElement(l.d,{overflowY:"scroll"},s.map(function(e){return a.a.createElement(l.b,{onClick:function(){return i(e)},cursor:"pointer",bg:o===e?"#38B2AC":"#E8E8E8",color:o===e?"white":"black",px:3,py:2,borderRadius:"lg",key:e._id},a.a.createElement(l.e,null,e.isGroupChat?e.chatName:P(g,e.users)))})):a.a.createElement(oe,null)))},ue=r(154);function he(){he=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=l;var u={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var n;this._invoke=function(a,o){function i(){return new t(function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(h).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new x(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var fe=function(){var e=a.a.useState(""),t=Object(h.a)(e,2),r=t[0],n=t[1],o=a.a.useState([]),i=Object(h.a)(o,2),s=i[0],p=i[1],y=a.a.useState(!1),g=Object(h.a)(y,2),x=g[0],b=g[1],E=a.a.useState(!1),w=Object(h.a)(E,2),O=w[0],k=w[1],j=Object(T.c)(),L=j.isOpen,_=j.onOpen,S=j.onClose,N=C(),I=N.userInfo,D=N.setSelectedChat,z=N.chats,B=N.setChats,Y=N.notification,M=N.setNotification,V=I.data.user,$=Object(c.f)(),J=Object(f.b)(),K=function(){var e=Object(u.a)(he().mark(function e(t){var a,o,i;return he().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n(t.target.value),r||t.target.value){e.next=4;break}return J({title:"Please enter a search query",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),e.abrupt("return");case 4:return e.prev=4,b(!0),a={headers:{Authorization:"Bearer ".concat(I.token)}},e.next=9,v.a.get("/api/user?search=".concat(r),a);case 9:o=e.sent,i=o.data,b(!1),p(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),J({title:"Error Occured!",description:"Failed to Load Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 18:case"end":return e.stop()}},e,null,[[4,15]])}));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(he().mark(function e(t){var r,n,a;return he().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(I.token)}},e.next=5,v.a.post("/api/chat",{userId:t},r);case 5:n=e.sent,a=n.data,z.find(function(e){return e._id===a._id})||B([a].concat(Object(G.a)(z))),D(a),k(!1),S(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),J({title:"Error Occured!",description:e.t0.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.b,{display:"flex",justifyContent:"space-between",alignItems:"center",bg:"white",w:"100%",p:"5px 10px 5px 10px",borderWidth:"5px"},a.a.createElement(W.a,{label:"Search Users to Chat",hasArrow:!0,placement:"bottom-end"},a.a.createElement(m.a,{variant:"ghost",onClick:_},a.a.createElement(F.f,null),a.a.createElement(l.e,{display:{base:"none",md:"flex"},px:"4"},"Search Users"))),a.a.createElement(l.e,{fontSize:"2xl",fontFamily:"Work sans",fontWeight:"extrabold"},"Hay-Boi"),a.a.createElement("div",null,a.a.createElement(ue.a,null,a.a.createElement(ue.b,{p:1},a.a.createElement(F.c,{fontSize:"2xl",m:1})),a.a.createElement(ue.e,{pl:2},!Y.length&&"No New Messages",Y.map(function(e){return a.a.createElement(ue.d,{key:e._id,onClick:function(){D(e.chat),M(Y.filter(function(t){return t!==e}))}},e.chat.isGroupChat?"New Message in ".concat(e.chat.chatName):"New Message from ".concat(P(I.data.user,e.chat.users)))}))),a.a.createElement(ue.a,null,a.a.createElement(ue.b,{as:m.a,rightIcon:a.a.createElement(F.d,null)},a.a.createElement(R.a,{size:"sm",cursor:"pointer",name:V.name,src:V.pic})),a.a.createElement(ue.e,null,a.a.createElement(q,{user:V},a.a.createElement(ue.d,null,"My Profile"),""),a.a.createElement(ue.c,null),a.a.createElement(ue.d,{onClick:function(){localStorage.removeItem("userInfo"),$("/")}},"Log Out"))))),a.a.createElement(H.a,{placement:"left",onClose:S,isOpen:L},a.a.createElement(H.e,null,a.a.createElement(H.c,null,a.a.createElement(H.d,{borderBottomWidth:"1px"},"Search Users"),a.a.createElement(H.b,null,a.a.createElement(l.b,{display:"flex",pb:2},a.a.createElement(d.a,{placeholder:"Search by Name or Email",mr:2,value:r,onChange:function(e){K(e)}}),a.a.createElement(m.a,{onClick:K},"Go")),x?a.a.createElement(oe,null):s?s.map(function(e){return a.a.createElement(U,{key:e._id,user:e,handleFunction:function(){return Q(e._id)}})}):null,O&&a.a.createElement(A.a,{ml:"auto",display:"flex"}))))))},pe=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),r=t[0],o=t[1],i=C().userInfo,c=i?i.data.user:null;return a.a.createElement("div",{style:{width:"100%"}},c&&a.a.createElement(fe,null),a.a.createElement(l.b,{display:"flex",justifyContent:"space-between",w:"100%",h:"91.5vh",p:"10px"},c&&a.a.createElement(se,{fetchAgain:r}),c&&a.a.createElement(ne,{fetchAgain:r,setFetchAgain:o})))},de=r(12),me=r(13),ye=r(15),ve=r(9),ge=r(14),xe=r(5),be=(r(281),function(e){function t(e){var r;Object(de.a)(this,t),r=Object(ye.a)(this,Object(ve.a)(t).call(this,e));var n=xe.GridGenerator.hexagon(4);return r.state={hexagons:n,path:{start:null,end:null}},r}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"onClick",value:function(e,t){var r=this.state.path;null==r.start?r.start=t.state.hex:(r.start=null,r.end=null),this.setState({path:r})}},{key:"onMouseEnter",value:function(e,t){var r=this.state,n=r.path,a=r.hexagons,o=t.state.hex;n.end=o;var i=a.map(function(e){return e.props=e.props||{},e.props.className=xe.HexUtils.distance(o,e)<2?"active":"",e.props.className+=o.q===e.q?" q ":"",e.props.className+=o.r===e.r?" r ":"",e.props.className+=o.s===e.s?" s ":"",e});this.setState({path:n,hexagons:i})}},{key:"render",value:function(){var e=this,t=this.state,r=t.hexagons,n=t.path;return a.a.createElement("div",{className:"Game"},a.a.createElement("h2",null,"Pathfinding & active highlight"),a.a.createElement("p",null,"Click a tile to start drawing a path to your cursor. Click again to cancel."),a.a.createElement("p",null,"Hover around the board to see helper lines drawn."),a.a.createElement(xe.HexGrid,{width:1200,height:800},a.a.createElement(xe.Layout,{size:{x:6,y:6},flat:!1,spacing:1.1,origin:{x:0,y:0}},r.map(function(t,r){return a.a.createElement(xe.Hexagon,{key:r,q:t.q,r:t.r,s:t.s,className:t.props?t.props.className:null,onMouseEnter:function(t,r){return e.onMouseEnter(t,r)},onClick:function(t,r){return e.onClick(t,r)}},a.a.createElement(xe.Text,null,xe.HexUtils.getID(t)))}),a.a.createElement(xe.Path,{start:n.start,end:n.end}))))}}]),t}(n.Component)),Ee=function(e){return a.a.createElement(l.b,{display:{base:"flex",md:"flex"},alignItems:"center",flexDir:"column",bg:"white",p:3,w:{base:"100%",md:"100%"},borderRadius:"lg",borderWidth:"1px"},e.component)},we=function(){var e=C().userInfo,t=e?e.data.user:null;return a.a.createElement("div",{style:{width:"100%"}},t&&a.a.createElement(fe,null),a.a.createElement(l.b,{display:"flex",justifyContent:"space-between",w:"100%",h:"91.5vh",p:"10px"},t&&a.a.createElement(Ee,{component:a.a.createElement(be,null)})))},Oe=(r(282),function(e){function t(e){var r;Object(de.a)(this,t),r=Object(ye.a)(this,Object(ve.a)(t).call(this,e));var n=xe.GridGenerator.hexagon(4);return r.state={hexagons:n,path:{start:null,end:null}},r}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"onClick",value:function(e,t){var r=this.state.path;null==r.start?r.start=t.state.hex:(r.start=null,r.end=null),this.setState({path:r})}},{key:"onMouseEnter",value:function(e,t){var r=this.state,n=r.path,a=r.hexagons,o=t.state.hex;n.end=o;var i=a.map(function(e){return e.props=e.props||{},e.props.className=xe.HexUtils.distance(o,e)<2?"active":"",e.props.className+=o.q===e.q?" q ":"",e.props.className+=o.r===e.r?" r ":"",e.props.className+=o.s===e.s?" s ":"",e});this.setState({path:n,hexagons:i})}},{key:"render",value:function(){var e=this,t=this.state,r=t.hexagons,n=t.path;return a.a.createElement("div",{className:"Pathfinding"},a.a.createElement("h2",null,"Pathfinding & active highlight"),a.a.createElement("p",null,"Click a tile to start drawing a path to your cursor. Click again to cancel."),a.a.createElement("p",null,"Hover around the board to see helper lines drawn."),a.a.createElement(xe.HexGrid,{width:1200,height:800},a.a.createElement(xe.Layout,{size:{x:6,y:6},flat:!1,spacing:1.1,origin:{x:0,y:0}},r.map(function(t,r){return a.a.createElement(xe.Hexagon,{key:r,q:t.q,r:t.r,s:t.s,className:t.props?t.props.className:null,onMouseEnter:function(t,r){return e.onMouseEnter(t,r)},onClick:function(t,r){return e.onClick(t,r)}},a.a.createElement(xe.Text,null,xe.HexUtils.getID(t)))}),a.a.createElement(xe.Path,{start:n.start,end:n.end}))))}}]),t}(n.Component)),ke=(r(283),function(e){function t(e){var r;Object(de.a)(this,t),r=Object(ye.a)(this,Object(ve.a)(t).call(this,e));var n=xe.GridGenerator.hexagon(2);return n.forEach(function(e){e.pattern="pattern1"}),r.state={hexagons:n},r}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"onClick",value:function(e,t){var r=this.state.hexagons.map(function(e){return xe.HexUtils.equals(t.state.hex,e)&&(e.pattern="pattern1"===t.props.fill?"pattern2":"pattern1"),e});this.setState({hexagons:r})}},{key:"render",value:function(){var e=this,t=this.state.hexagons;return a.a.createElement("div",{className:"PatternSwap"},a.a.createElement("h2",null,"Hexagon Pattern Swap"),a.a.createElement("p",null,"Click a tile to swap it's pattern"),a.a.createElement(xe.HexGrid,{width:1200,height:800},a.a.createElement(xe.Layout,{size:{x:10,y:10},flat:!1,spacing:1.1,origin:{x:0,y:0}},t.map(function(t,r){return a.a.createElement(xe.Hexagon,{key:r,q:t.q,r:t.r,s:t.s,fill:t.pattern,onClick:function(t,r){return e.onClick(t,r)}},a.a.createElement(xe.Text,null,xe.HexUtils.getID(t)))}),a.a.createElement(xe.Pattern,{id:"pattern1",link:"https://picsum.photos/200?image=80"}),a.a.createElement(xe.Pattern,{id:"pattern2",link:"https://picsum.photos/200?image=82"}))))}}]),t}(n.Component)),je=(r(284),function(e){function t(e){var r;Object(de.a)(this,t),r=Object(ye.a)(this,Object(ve.a)(t).call(this,e));var n=xe.GridGenerator.hexagon(2);return r.state={hexagons:n},r}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"onDrop",value:function(e,t,r){var n=this.state.hexagons.map(function(e){return xe.HexUtils.equals(t.state.hex,e)&&(e.image=r.data.image,e.text=r.data.text),e});this.setState({hexagons:n})}},{key:"onDragStart",value:function(e,t){t.props.data.text||e.preventDefault()}},{key:"onDragOver",value:function(e,t){var r=this.state.hexagons.filter(function(e){return e.blocked}).find(function(e){return xe.HexUtils.equals(t.state.hex,e)}),n=t.props.data.text;r||n||e.preventDefault()}},{key:"onDragEnd",value:function(e,t,r){if(r){var n=this.state.hexagons.map(function(e){return xe.HexUtils.equals(t.state.hex,e)&&(e.text=null,e.image=null),e});this.setState({hexagons:n})}}},{key:"render",value:function(){var e=this,t=this.state.hexagons;return a.a.createElement(xe.Layout,{className:"game",size:{x:10,y:10},flat:!0,spacing:1.08,origin:{x:-30,y:0}},t.map(function(t,r){return a.a.createElement(xe.Hexagon,{key:r,q:t.q,r:t.r,s:t.s,className:t.blocked?"blocked":null,fill:t.image?xe.HexUtils.getID(t):null,data:t,onDragStart:function(t,r){return e.onDragStart(t,r)},onDragEnd:function(t,r,n){return e.onDragEnd(t,r,n)},onDrop:function(t,r,n){return e.onDrop(t,r,n)},onDragOver:function(t,r){return e.onDragOver(t,r)}},a.a.createElement(xe.Text,null,t.text||xe.HexUtils.getID(t)),t.image&&a.a.createElement(xe.Pattern,{id:xe.HexUtils.getID(t),link:t.image}))}))}}]),t}(n.Component)),Le=(r(285),function(e){function t(e){var r;Object(de.a)(this,t),r=Object(ye.a)(this,Object(ve.a)(t).call(this,e));var n=xe.GridGenerator.parallelogram(-2,0,2,4).map(function(e,t){return Object.assign({},e,{text:"Bee ".concat(t+1),image:"https://cdn.pixabay.com/photo/2021/01/14/18/19/bee-5917610_960_720.png"})});return r.state={hexagons:n},r}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"onDragStart",value:function(e,t){}},{key:"onDragEnd",value:function(e,t,r){if(r){var n=this.state.hexagons.map(function(e){return xe.HexUtils.equals(t.state.hex,e)&&(e.text=null,e.image=null),e});this.setState({hexagons:n})}}},{key:"render",value:function(){var e=this,t=this.state.hexagons;return a.a.createElement(xe.Layout,{className:"tiles",size:{x:8,y:8},flat:!1,spacing:1.01,origin:{x:40,y:-20}},t.map(function(t,r){return a.a.createElement(xe.Hexagon,{key:r,q:t.q,r:t.r,s:t.s,fill:t.image?xe.HexUtils.getID(t):null,data:t,onDragStart:function(t,r){return e.onDragStart(t,r)},onDragEnd:function(t,r,n){return e.onDragEnd(t,r,n)}},a.a.createElement(xe.Text,null,t.text),!!t.image&&a.a.createElement(xe.Pattern,{id:xe.HexUtils.getID(t),link:t.image}))}))}}]),t}(n.Component)),_e=(r(286),function(e){function t(){return Object(de.a)(this,t),Object(ye.a)(this,Object(ve.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"DragAndDrop"},a.a.createElement("h2",null,"Drag & drop"),a.a.createElement("p",null,"Drag tiles from the right-side grid and drop them to the left grid."),a.a.createElement("p",null,"You can also drag & drop them within the left board, but not back to the right side."),a.a.createElement("p",null,a.a.createElement("small",null,"TilesLayout (on the right) does not handle `onDrop` and `onDragOver` and that's why it's not possible to drop anything on these tiles. GameLayout (on the left) handles all the events, so it's possible to start a drag as well as drop tiles. It also implements custom check to disallow drop on certain tiles, like the ones that are blocked or already have content in them.")),a.a.createElement(xe.HexGrid,{display:"flex",viewBox:"-50 -50 100 100"},a.a.createElement(je,null),a.a.createElement(Le,null)))}}]),t}(n.Component)),Se=(r(287),function(e){function t(){return Object(de.a)(this,t),Object(ye.a)(this,Object(ve.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e={x:10,y:10},t=xe.GridGenerator.parallelogram(-2,2,-2,2);return a.a.createElement("div",{className:"CustomGrid"},a.a.createElement("h2",null,"React Hexgrid v1"),a.a.createElement("p",null,"Constructing Hexgrid with component-based approach with custom SVG elements."),a.a.createElement(xe.HexGrid,{width:1200,height:800,viewBox:"-50 -50 100 100"},a.a.createElement(xe.Layout,{size:e,flat:!0,spacing:1.1,origin:{x:0,y:0}},a.a.createElement(xe.Hexagon,{q:0,r:0,s:0}),a.a.createElement(xe.Hexagon,{q:0,r:-1,s:1,fill:"pat-1"}),a.a.createElement(xe.Hexagon,{q:0,r:1,s:-1}),a.a.createElement(xe.Hexagon,{q:1,r:-1,s:0},a.a.createElement(xe.Text,null,"1, -1, 0")),a.a.createElement(xe.Hexagon,{q:1,r:0,s:-1},a.a.createElement(xe.Text,null,"1, 0, -1")),a.a.createElement(xe.Hexagon,{q:-1,r:1,s:0,fill:"pat-2"},a.a.createElement(xe.Text,null,"-1, 1, 0")),a.a.createElement(xe.Hexagon,{q:-1,r:0,s:1}),a.a.createElement(xe.Hexagon,{q:-2,r:0,s:1}),a.a.createElement(xe.Path,{start:new xe.Hex(0,0,0),end:new xe.Hex(-2,0,1)})),a.a.createElement(xe.Layout,{size:{x:2,y:2},origin:{x:50,y:-30}},t.map(function(e,t){return a.a.createElement(xe.Hexagon,{key:t,q:e.q,r:e.r,s:e.s})})),a.a.createElement(xe.Pattern,{id:"pat-1",link:"http://lorempixel.com/400/400/cats/1/",size:e}),a.a.createElement(xe.Pattern,{id:"pat-2",link:"http://lorempixel.com/400/400/cats/2/",size:e}),a.a.createElement("g",null,a.a.createElement("circle",{cx:"50",cy:"0",r:"10"}),a.a.createElement("circle",{cx:"50",cy:"10",r:"8"}),a.a.createElement("circle",{cx:"45",cy:"20",r:"6"}))))}}]),t}(n.Component)),Ce=function(){var e=C().userInfo,t=e?e.data.user:null;return a.a.createElement("div",{style:{width:"100%"}},t&&a.a.createElement(fe,null),a.a.createElement(l.b,{display:{base:"flex",md:"flex"},alignItems:"center",alignSelf:"center",flexDir:"column",bg:"white",padding:3,w:{base:"95%",md:"95%"},borderRadius:"lg",borderWidth:"5px"},a.a.createElement(s.e,null,a.a.createElement(s.b,null,a.a.createElement(s.a,null,"Pathfinding"),a.a.createElement(s.a,null,"Pattern Swap"),a.a.createElement(s.a,null,"Drag and Drop"),a.a.createElement(s.a,null,"Custom Grid")),a.a.createElement(s.d,null,a.a.createElement(s.c,null,a.a.createElement(Ee,{component:a.a.createElement(Oe,null)})),a.a.createElement(s.c,null,a.a.createElement(Ee,{component:a.a.createElement(ke,null)})),a.a.createElement(s.c,null,a.a.createElement(Ee,{component:a.a.createElement(_e,null)})),a.a.createElement(s.c,null,a.a.createElement(Ee,{component:a.a.createElement(Se,null)}))))))};var Ne=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(c.c,null,a.a.createElement(c.a,{path:"/",element:a.a.createElement(w,null)}),a.a.createElement(c.a,{path:"/chats",element:a.a.createElement(pe,null)}),a.a.createElement(c.a,{path:"/game",element:a.a.createElement(we,null)}),a.a.createElement(c.a,{path:"/examples",element:a.a.createElement(Ce,null)})))},Ge=r(24),Fe=r(60);i.a.createRoot(document.getElementById("root")).render(a.a.createElement(Ge.a,null,a.a.createElement(Fe.a,null,a.a.createElement(N,null,a.a.createElement(Ne,null)))))}},[[185,1,2]]]);
//# sourceMappingURL=main.6c6e1c70.chunk.js.map